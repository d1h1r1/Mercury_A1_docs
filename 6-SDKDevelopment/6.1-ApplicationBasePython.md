## 6.1 Development and Use Based on Python



### 6.1.2 API usage instructions

API (Application Programming Interface), also known as Application Programming Interface functions, are predefined functions. When using the following function interfaces, please import our API library at the beginning by entering the following code, otherwise it will not run successfully:

#### 1.  System Status

**1.1** `get_system_version()`

- **function：** get system version
- **Return value：** system version

**1.2**`get_robot_id()`

- **function：** get robot id

- **Return value：** Definition Rule: Actual machine model.

**1.3** `get_atom_version()`

- **function：** Get the end version number
- **Return value：**  End parameters（`float`)

#### 2. Overall Status

**2.1**  `power_on()`

- **function:**  atom open communication (default open)
  + Attentions： After executing poweroff or pressing emergency stop, it takes 7 seconds to power on and restore power

- **Return value:**  NULL 

**2.2**  `power_off()`

- **function:** Power off of the robotic arm

- **Return value:** NULL

**2.3**  `is_power_on()`

- **function:**  judge whether robot arms is powered on or not

- **Return value:**
  - 1:  power on
  - 0:  power off
  - -1:  error

**2.4**  `release_all_servos()`

- **function:**  release all robot arms
  + Attentions：After the joint is disabled, it needs to be enabled to control within 1 second
- **Parameters**：`data`（optional）：The way to relax the joints. The default is damping mode, and if the 'data' parameter is provided, it can be specified as non damping mode (1- Undamping).
- **Return value:** NULL

**2.5**  `get_angle()`

- **function:**  Get single joint angle
- **Parameters**： joint_id (int): 1 ~ 7 
- **Return value:**   NULL

**2.6**  `focus_servo(servo_id)`

- **function:**  power on designated servo
- **Parameters**：`servo_id  `Enter the ID of the servo, with a parameter range of 1-7
- **Return value:** NULL

**2.7**  `set_break（joint_id, value）`

- **function:**  Set break point
- **Parameters**：
  + `joint_id`: int. joint id 1 - 7
  + `value`: int. 0 - disable, 1 - enable
- **Return value:** 0 : faile; 1 : success 

#### 3.MDI Mode and Operation

**3.1**  `get_angles()`

- **function:** get the degree of all joints
- **Return value**:  `list  `a float list of all degree

**3.2**  `send_angle(id, degree, speed)`

- **function:** send one degree of joint to robot arm
- **Parameters:**
  - `id`: Joint id(`genre.Angle`) / int 1-7
  - `degree`: degree value( ` (float)` (-170 ~ 170)
  - `speed`：the speed and range of the robotic arm's movement 0~100
- **Return value:** NULL 

**3.3**  `send_angles(angles, speed)`

- **function：** Send all angles to all joints of the robotic arm
- **Parameters:**
  - `angles`: a list of degree value(`List[float]`), length 7
  - `speed`:  (`int`) 0 ~ 100
- **Return value:** NULL 

**3.4**  `get_coords()`

- **function:** Obtain robot arm coordinates from a base based coordinate system
- **Return value:**  a float list of coord:[x, y, z, rx, ry, rz]

**3.5**  `send_coord(id, coord, speed)`

- **function:** send one coord to robot arm
- **Parameters:**
  - `id`:send one coord to robot arm,1-6
  - `coord`: coord value(（`float`）
  - `speed`: (`int`),0-100
- **Return value**：NULL

**3.6**  `send_coords(coords, speed, mode)`

- **function: **Send overall coordinates and posture to move the head of the robotic arm from its original point to your specified point
- **Parameters:**
  - coords: ： a list of coords value `[x,y,z,rx,ry,rz]`,length6
  - speed`(int)`:  0 ~ 100
  - mode: (`int`):  `0` - angular, `1` - linear
    - 0  The path of the head movement of the robotic arm is non-linear, that is, the path is randomly planned, as long as the head of the robotic arm moves to the specified point in a specified posture.
    - 1 The path of the robotic arm head movement is linear, that is, the intelligent planning route allows the robotic arm head to move in a straight line to a specified point.
- **Return value**： NULL

**3.7**  `pause()`

- **function:**  Control the instruction to pause the core and stop all movement instructions
- **Return value**: NULL

**3.8**  `is_paused()`

- **function:**  Check if the program has paused the move command
- **Return value:**
  - `1` - paused
  - `0` - not paused
  - `-1` - error

**3.9**  `resume()`

- **function:**  resume the robot movement and complete the previous command
- **Return value**: NULL

**3.10**  `stop()`

- **function:** stop all movements of robot
- **Return value**: NULL

**3.11**  `is_in_position(data, flag)`

- **function** : judge whether in the position.
- **Parameters:**  
  - data:  Provide a set of data that can be angles or coordinate values. If the input angle length range is 7, and if the input coordinate value length range is 6
  - flag data type (value range 0 or 1)
    - `0`: angle value
    - `1`: coord_id
- **Return value**:
  - `1` - true
  - `0` - false
  - `-1 `   - error

**3.12**  `is_moving()	`

- **function:**  judge whether the robot is moving
- **Return value:**
  - `1` moving
  - `0` not moving
  - `-1` error

#### 4. JOG Mode and Operation

**4.1** `jog_angle(joint_id, direction, speed)`

- **function:** jog control angle
- **Parameters**:
  - `joint_id`: Represents the joints of the robotic arm, represented by joint IDs ranging from 1 to 7
  - `direction`: To control the direction of movement of the robotic arm, input 0 as negative value movement and input 1 as positive value movement
  - `speed`:  0 ~ 100
- **Return value**：NULL

**4.2** `jog_coord(coord_id, direction, speed)`

- **function:**  jog control coord.
- **Parameters:**
  - `coord_id`: (`int`) Coordinate range of the robotic arm: 1~6
  - `direction`: To control the direction of machine arm movement, '0' - negative value movement, '1' - positive value movement
  - `speed`: 0 ~ 100
- **Return value**：NULL

**4.3** `jog_increment(joint_id,increment,speed)`

- **function:**  step mode
- **Parameters**:
  - `joint_id`: 1-7
  - `increment`:
  - `speed`: 0 ~ 100
- **Return value**: NULL

#### 5. Coordinate controlled attitude deviation angle

**5.1** `get_solution_angles()`

- **function:** Obtain the value of zero space deflection angle
- **Return value**：Zero space deflection angle value

**5.2** `set_solution_angles(angle, speed)`

- **function:** Obtain the value of zero space deflection angle

- **Parameters:**  
  + ` angle` : Input the angle range of joint 1, angle range -90 to 90
  
  + `speed` : 1 - 100.
  
- **Return value:** Zero space deflection angle value

#### 6. Set software joint limit

**6.1** `get_joint_min_angle(joint_id)`

- **function:** Read the minimum joint angle
- **Parameters:**  
  + ` joint_id` : Enter joint ID (range 1-7)
- **Return value**：`float` Angle value

**6.2** `get_joint_max_angle(joint_id)`

- **function:** Read the maximum joint angle
- **Parameters:**  
  + ` joint_id` : Enter joint ID (range 1-7)
- **Return value:** `float` Angle value

#### 7. Joint motor settings

**7.1** `is_servo_enable(servo_id)`

- **function:** Detecting joint connection status
- **Parameters:** ` servo id` 1-7
- **Return value:**
  - `1`:  Connection successful
  - `0`:  not connected
  - `-1`:  error

**7.2** `is_all_servo_enable()`

- **function:** Detect the status of all joint connections
- **Return value:**
  - `1`:  Connection successful
  - `0`:  not connected
  - `-1`: error

**7.3** `set_servo_calibration(servo_id)`

- **function:** The current position of the calibration joint actuator is the angle zero point, corresponding to a potential value of 2048
- **Parameters**:
  - `servo_id`: 1 - 7
- **Return value:** NULL

**7.4** `release_servo(servo_id,mode)`

- **function:** power on designated servo
- **Parameters**: 
  + `servo_id`: 1 ~ 7
  + `mode`: The default value is 0, indicating damping mode; Value 1: Cancel damping;
- **Return value:** None

**7.5** `focus_servo(servo_id)`

- **function**:  Power on individual motors
- **Parameters**: `servo_id`: 1 ~ 7
- **Return value:** NULL

**7.6** `set_gripper_state(flag, speed, _type_1=None)`

- **function**:  Adaptive gripper enable

- **Parameters**: 

  + `flag (int) `: 0 - open 1 - close, 254 - release

  + `speed (int)`:  1 ~ 100

  + `_type_1 (int)`:  

    `1` : Adaptive gripper (default state is 1)

    `2` : A nimble hand with 5 fingers

    `3` : Parallel gripper

    `4` : Flexible gripper

- **Return value:** NULL

**7.7** `set_gripper_enabled(value)`

- **function**:  Adaptive gripper enable setting
- **Parameters**: 
  + `value`  1: Enable 0: Release
- **Return value:** NULL

**7.8** `get_zero_pos()`

- **function**:  Read the zero encoder value
- **Return value:** `list   `The value of the zero encoder for seven joints

**7.9** `is_init_calibration()`

- **function**:  Check if the zero position has been set
- **Return value:**  `bool`，True if the robot has been initialized for calibration, otherwise False

#### 8.  End IO control

**8.1** `set_digital_output(pin_no, pin_signal)`

- **function:**  set IO
- **Parameters**
  - `pin_no` (int): Pin number 
  - `pin_signal` (int): 0 / 1

* **Return value:** NULL

**8.2** `get_digital_input(pin_no)`

- **function:** read  IO
- **Parameters**: `pin_no` (int)
- **Return value**: signal 

#### 9.  End clamp control interface

**9.1** `set_gripper_state(flag, speed, _type_1=None)`

- **function**:  Set gripper switch status

- **Parameters**: 

  + `flag (int) `: 0 - open, 1 - close, 254 - release

  + `speed (int)`:  1 ~ 100

  + `_type_1 (int)`:  

    `1`: Adaptive gripper (default state is 1)

     `2 `: A nimble hand with 5 fingers

    `3`: Parallel gripper

    `4`: Flexible gripper

- **Return value:** NULL

**9.2** `set_gripper_value(gripper_value, speed, gripper_type=None)`

- **function**:  Setting the Claw Angle

- **Parameters**: 

  + `gripper_value `: 0 - open, 1 - close, 254 - release

  + `speed (int)`:  1 ~ 100

  + `gripper_type (int)`:

    `1`: Adaptive gripper (default state is 1)

     `2 `: A nimble hand with 5 fingers

    `3`: Parallel gripper

    `4`: Flexible gripper

- **Return value:** NULL

**9.3** `set_gripper_calibration(mode)`

- **function:** Set the current position to 0 and the current position value to 2048
- **Return value**：NULL

**9.4** `set_gripper_mode(mode)`

- **function:**  Set gripper mode
- **Return value**：NULL

**9.5** `get_gripper_mode()`

- **function:**  Obtain gripper mode
- **Return value**：0 - Transparent mode 1- Port mode

**9.6** `is_btn_clicked()`

- **function:**  Is the end LED button pressed
- **Return value**：0- not pressed 1- pressed

#### 10. Atom end RGB

**10.1** `set_color(r, g, b)`

- **function:** Set RGB color
- **Parameters:**
  - `R`: 0-255
  - `G`: 0-255
  - `B`: 0-255
- **Return value:** NULL

#### 11. Drag Teaching

**11.1** `drag_tech_save()`

- **function:** Start recording and dragging teaching points.
  + Note: In order to display the best sports effect, the recording time should not exceed 90 seconds
- **Return value:** NULL

**11.2** `drag_tech_execute()`

- **function:** Start dragging the teach-in point, executing it only once.
- **Return value:** NULL

**11.3** `drag_tech_pause()`

- **function:** Pause sampling
- **Return value:** NULL

#### 12. Coordinate Setting

**12.1** `set_tool_reference(coords)`

- **function:**  Set tool coordinate system.
- **Parameters**：`coords`: (`list`) [x, y, z, rx, ry, rz].
- **Return value:** NULL

**12.2** `get_tool_reference(coords)`

- **function:** Get tool coordinate system.
- **Return value:** `oords`: (`list`) [x, y, z, rx, ry, rz]

**12.3** `set_world_reference(coords)`

- **function:** Set world coordinate system.
- **Parameters**：`coords`: (`list`) [x, y, z, rx, ry, rz].
- **Return value:** NULL

**12.4** `get_world_reference()`

- **function:** Get world coordinate system.
- **Return value:** `list` [x, y, z, rx, ry, rz].

**12.5** `set_reference_frame(rftype)`

- **function:** Set base coordinate system.
- **Parameters：**`rftype`: 0 - base 1 - tool. 
- **Return value:** NULL

**12.6** `drag_tget_reference_frame()`

- **function:** Get base coordinate system.
- **Return value:** 0 - base 1 - tool.

**12.7** `set_movement_type(move_type)`

- **function:** Set movement type.
- **Parameters**：`move_type`: 1 - movel, 0 - moveJ.
- **Return value:** NULL

**12.8** `get_movement_type()`

- **function:** Get movement type.
- **Return value:**   1 - movel, 0 - moveJ

**12.9** `set_end_type(end)`

- **function:** Get end coordinate system
- **Parameters**：`end`:  0 - flange, 1 - tool.
- **Return value:**  NULL

**12.10** `get_end_type()`

- **function:**  Obtain the end coordinate system
- **Return value:**  0 - flange, 1 - tool.

#### 13. Circular motion

**13.1** `write_move_c(transpoint, endpoint, speed)`

+ function：Arc trajectory motion
+ Parameters：
      `transpoint(list)`：Arc passing through point coordinates
      `endpoint (list)`：Arc endpoint coordinates
      ` speed(int)`： 1 ~ 100
+ Return value：NULL

#### 14. Set bottom IO input/output status

**14.1** `set_basic_output(transpoint, endpoint, speed)`

+ **function**：Set Base IO Output
+ **Parameters**：
  + `pin_no` (`int`) Pin port number
  + `pin_signal` (`int`): 0 / 1
+ **Return value**：NULL

**14.2** `get_basic_input(pin_no)`

- **function:** Read base IO input
- **Parameters:**
  + `pin_no` (`int`) pin number 
- **Return value:**NULL

**14.3** `get_robot_status()`

- **function:** Upper computer error security status
- **Return value:**   0-Normal 1-Robot triggered collision detection









